(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{215:function(t,r,e){"use strict";e.r(r);var v=e(0),_=Object(v.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"错误监控"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误监控"}},[t._v("#")]),t._v(" 错误监控")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("错误分类？如何捕获？如何上报？")])]),t._v(" "),e("h2",{attrs:{id:"错误分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#错误分类"}},[t._v("#")]),t._v(" 错误分类")]),t._v(" "),e("ul",[e("li",[t._v("即时运行错误（代码错误）")]),t._v(" "),e("li",[t._v("资源加载错误")])]),t._v(" "),e("h2",{attrs:{id:"捕获方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#捕获方式"}},[t._v("#")]),t._v(" 捕获方式")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("即时错误捕获方式")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("try {} catch (error) {}")])]),t._v(" "),e("li",[e("code",[t._v("window.onerror / window.addEventListener('error')")])]),t._v(" "),e("li",[t._v("跨域 JS 运行错误捕获\n"),e("ul",[e("li",[t._v("只能捕获到错误，无法获取的具体的错误信息，要获取详细信息需要做到以下两步：")])]),t._v(" "),e("ol",[e("li",[t._v("前端在 script 标签上增加 crossorigin 属性")]),t._v(" "),e("li",[t._v("服务器端设置 Access-Control-Allow-Origin")])])])])]),t._v(" "),e("li",[e("p",[t._v("加载错误捕获方式")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("object.onerror")]),t._v(" 资源加载错误无法冒泡，所以不能用 "),e("code",[t._v("window.onerror")])]),t._v(" "),e("li",[e("code",[t._v("performace.getEntries()")]),t._v(" 浏览器提供的显示当前页面所加载的所有资源列表 api")]),t._v(" "),e("li",[t._v("Error 捕获事件")])])])]),t._v(" "),e("h2",{attrs:{id:"上报原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#上报原理"}},[t._v("#")]),t._v(" 上报原理")]),t._v(" "),e("ul",[e("li",[t._v("使用 Ajax 通信上报")]),t._v(" "),e("li",[t._v("利用 Image 对象上报，"),e("code",[t._v("(new Image()).src=错误上报地址")])])])])}),[],!1,null,null,null);r.default=_.exports}}]);